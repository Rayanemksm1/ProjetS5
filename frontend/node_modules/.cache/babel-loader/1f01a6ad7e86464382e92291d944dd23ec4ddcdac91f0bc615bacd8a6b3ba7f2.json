{"ast":null,"code":"var _jsxFileName = \"/home/rayane/Bureau/hoptal_rdv/frontend/src/AppointmentForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AppointmentForm() {\n  _s();\n  const [doctors, setDoctors] = useState([]);\n  const [patientName, setPatientName] = useState(\"\");\n  const [doctorId, setDoctorId] = useState(\"\");\n  const [dateTime, setDateTime] = useState(\"\");\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/api/doctors/\").then(res => res.json()).then(data => setDoctors(data));\n  }, []);\n  const handleSubmit = e => {\n    e.preventDefault();\n    fetch(\"http://127.0.0.1:8000/api/appointments/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        patient_name: patientName,\n        doctor: doctorId,\n        date_time: dateTime\n      })\n    }).then(res => res.json()).then(data => console.log(\"Rendez-vous ajouté :\", data));\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Nom du patient\",\n      value: patientName,\n      onChange: e => setPatientName(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: doctorId,\n      onChange: e => setDoctorId(e.target.value),\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"S\\xE9lectionner un m\\xE9decin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), doctors.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: d.id,\n        children: d.name\n      }, d.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 27\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"datetime-local\",\n      value: dateTime,\n      onChange: e => setDateTime(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Ajouter rendez-vous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(AppointmentForm, \"25AjwV5R66y1/Hje3Vcg0u2KH8Q=\");\n_c = AppointmentForm;\nexport default AppointmentForm;\nvar _c;\n$RefreshReg$(_c, \"AppointmentForm\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","AppointmentForm","_s","doctors","setDoctors","patientName","setPatientName","doctorId","setDoctorId","dateTime","setDateTime","fetch","then","res","json","data","handleSubmit","e","preventDefault","method","headers","body","JSON","stringify","patient_name","doctor","date_time","console","log","onSubmit","children","type","placeholder","value","onChange","target","required","fileName","_jsxFileName","lineNumber","columnNumber","map","d","id","name","_c","$RefreshReg$"],"sources":["/home/rayane/Bureau/hoptal_rdv/frontend/src/AppointmentForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction AppointmentForm() {\n  const [doctors, setDoctors] = useState([]);\n  const [patientName, setPatientName] = useState(\"\");\n  const [doctorId, setDoctorId] = useState(\"\");\n  const [dateTime, setDateTime] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/api/doctors/\")\n      .then(res => res.json())\n      .then(data => setDoctors(data));\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(\"http://127.0.0.1:8000/api/appointments/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        patient_name: patientName,\n        doctor: doctorId,\n        date_time: dateTime,\n      }),\n    })\n      .then(res => res.json())\n      .then(data => console.log(\"Rendez-vous ajouté :\", data));\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" placeholder=\"Nom du patient\" value={patientName} onChange={e => setPatientName(e.target.value)} required />\n      <select value={doctorId} onChange={e => setDoctorId(e.target.value)} required>\n        <option value=\"\">Sélectionner un médecin</option>\n        {doctors.map(d => <option key={d.id} value={d.id}>{d.name}</option>)}\n      </select>\n      <input type=\"datetime-local\" value={dateTime} onChange={e => setDateTime(e.target.value)} required />\n      <button type=\"submit\">Ajouter rendez-vous</button>\n    </form>\n  );\n}\n\nexport default AppointmentForm;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}